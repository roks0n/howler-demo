<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<title>Howler Test</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
<script src="howler.js"></script>
</head>
    <body>
        <h1>Radio</h1>
        <div style="margin-bottom: 1em;">
            <button id="play" style="padding: 1em 2em;">Play</button>
            <button id="stop" style="padding: 1em 2em;">Stop</button>
        </div>
    </body>
    <script>
    var radio;
    var interval;
    radio = new Howl({
        src: ['https://strm.radionula.com/classics'],
        html5: true,
        format: ['mp3'],
        autoplay: false,
        preload: false,
        onload: () => console.log('onload'),
        onloaderror: (e, msg) => console.log('onloaderror', e, msg),
        onplayerror: (e, msg) => console.log('onplayerror', e, msg),
        onplay: () => console.log('onplay'),
        onend: () => console.log('onend'),
        onpause: () => console.log('onpause'),
        onrate: () => console.log('onrate'),
        onstop: () => console.log('onstop'),
        onseek: () => console.log('onseek'),
        onfade: () => console.log('onfade'),
        onunlock: () => console.log('onunlock'),
    });
    var play = document.querySelector('#play');
    var stop = document.querySelector('#stop');
    play.addEventListener('click', function(e) {
        console.log('play clicked');
        radio.play();
        interval = setInterval(function(){
          console.log('State:', radio.state());
        }, 500);
    });
    stop.addEventListener('click', function(e) {
        console.log('stop clicked');
        radio.stop();
        clearInterval(interval);
    });
    </script>
</html>
